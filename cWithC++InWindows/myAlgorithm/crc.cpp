#include <iostream>
#include <stdio.h>

using namespace std;

//don't care the last bit,just calculate all previous bit.
unsigned char CRC(const unsigned char * calibrationBuf,int len){
	unsigned char checksum = 0;
	for (int i = 0; i < (len - 1); i++) {
		checksum = checksum^calibrationBuf[i];// xor
	}
	checksum = ~checksum; // compl
	return checksum;
}

int main(){
    // shift left
	//34 or 38,four orientation

	/*first test with [5A A5 A6 C1 01     00  01  02  03  04  05  06  07  08   6E]*/
	// const unsigned char a[15]={0x5A,0xA5,0xA6,0xC1,0x01,
	// 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08};
	// printf("%02x",CRC(a,15));//print 6e.And 6e is right.

	const unsigned char test34	[(5+34+1)]	={0x5A,0xA5,0xA6,0xC1,0x01,
	0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,0x20,0x21,0x22,
	0x45};
	const unsigned char test38	[(5+38+1)]	={0x5A,0xA5,0xA6,0xC1,0x01,
	0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,0x20,0x21,0x22,0x23,0x24,0x25,0x26,
	0x41};
	const unsigned char test136	[(5+136+1)]	={0x5A,0xA5,0xA6,0xC1,0x01,
	0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,0x20,0x21,0x22,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,0x20,0x21,0x22,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,0x20,0x21,0x22,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0x1b,0x1c,0x1d,0x1e,0x1f,0x20,0x21,0x22,
	0x66};

	//printf("%02x\n",CRC(test34,(5+34+1)));//print 45.And 45 is right.
	//printf("%02x\n",CRC(test38,(5+38+1)));//print 41.And 41 is right.
	//printf("%02x\n",CRC(test144,((5+144+1))));//print 66.And 66 is right.
	for(int i=0;i<(5+34+1);i++){
		printf("%02x",test34[i]);
		printf(" ");
	}
	printf("\n");
	for(int i=0;i<(5+38+1);i++){
		printf("%02x",test38[i]);
		printf(" ");
	}
	printf("\n");
	for(int i=0;i<(5+136+1);i++){
		printf("%02x",test136[i]);
		printf(" ");
	}
	
	return 0;
}